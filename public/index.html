<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- <meta name="description" content="Learn how to use the Firebase platform on the Web"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KronosChat</title>

    <!-- Disable tap highlight on IE -->
    <meta name="msapplication-tap-highlight" content="no">

    <!-- Web Application Manifest -->
    <link rel="manifest" href="../manifest.json">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="KronosChat">
    <meta name="theme-color" content="#303F9F">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Friendly Chat">
    <meta name="apple-mobile-web-app-status-bar-style" content="#303F9F">

    <!-- Tile icon for Win8 -->
    <meta name="msapplication-TileColor" content="#3372DF">
    <meta name="msapplication-navbutton-color" content="#303F9F">

    <!-- Material Design Lite -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <!-- <link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.orange-indigo.min.css"> -->
    <!-- <script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script> -->



    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>

    <!--Font Awesome-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns"
        crossorigin="anonymous">
    <script defer src="https://use.fontawesome.com/releases/v5.4.2/js/all.js" integrity="sha384-wp96dIgDl5BLlOXb4VMinXPNiB32VYBSoXOoiARzSTXY+tsK8yDTYfvdTyqzdGGN"
        crossorigin="anonymous"></script>




    <!-- App Styling -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/style.css">

    <!-- Bootstrap-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/message.ico" />

    <!-- JQuery -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->

</head>





<body>
    <!-- <div > -->
    <header class="row">
        <div class="container">
            <div class="align-middle">
                <h3>
                    <i class="material-icons">chat_bubble_outline</i> KronosChat</h3>
            </div>

        </div>
        <div id="user-container" class="navbar pull-right">
            <div hidden id="user-pic" class="navbar-brand bg-light"></div>
            <div hidden id="user-name" class="navbar-brand"></div>
            <button hidden id="sign-out" type="button" class="btn btn-primary">
                Sign-out
            </button>
            <button hidden id="sign-in" type="button" class="btn btn-primary">
                Sign-in with Google
            </button>
        </div>
    </header>

    <main id="main" class="container">
        <div id="messages-card-container" class="row">
            <section class="col-md-5 card" id="contacts-section">

                <!-- TODO: UREDITI DA KONTAKTI BUDU SKROLABILNI, UREDITI LAYOUT/POLOZAJ -->

                <!-- Contacts container -->
                <div id="contacts-card" class="card-body">


                    <div>
                        <form action="#" autocomplete="off">
                            <div class="input-group">

                                <input type="text" id="user-search" placeholder="Search users..." class="form-control"
                                    list="search-result">
                                <datalist id="search-result"></datalist>
                                <!-- <label  for="sample1">Search users...</label> -->

                            </div>
                        </form>
                        <div id="contacts">

                        </div>

                    </div>
                </div>
            </section>

            <section class="col-md-7 card container" id="messages-section">
                <!-- Messages container -->
                <div class="container">
                    <div class="container" id="messages-container">
                        <div class="row">
                            <div class="col-md-12">
                                <div id="messages-card" class="card-body">
                                    <div>
                                        <b>
                                            <p hidden id="contact-name" style="border-bottom: 1px solid grey; text-align: center; font-weight: bold"></p>
                                        </b>
                                    </div>
    
                                    <div>
    
                                        <div id="messages">
                                            <span id="message-filler"></span>
                                        </div>
    
                                    </div>
                                </div>
                            </div>
                        </div>
    
                    </div>
                </div>
                

                <!-- FORMA ZA UNOS -->
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <form id="message-form" action="#" autocomplete="off" class="form">
                                <div class="input-group row">

                                    <input type="text" id="message" autocomplete="off" placeholder="Message..." class="form-control col-md-11">
                                    <!-- <label  for="message">Message...</label> -->
                                    <button id="msg-submit-btn" class="btn btn-default form-control col-md-1 text-center"
                                        disabled type="submit">
                                        <i id="icon-msg-submit" class="fas fa-angle-right fa-3x" id="icon-msg-submit"></i>
                                    </button>
                                </div>

                            </form>
                            <form id="image-form" action="#" autocomplete="off">
                                <input autocomplete="false" name="hidden" type="text" style="display:none;">
                                <input id="mediaCapture" type="file" accept="image/*" capture="camera">
                                <button id="submitImage" title="Add an image">
                                    <i class="material-icons">image</i>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
                
            </section>


            <div id="must-signin-snackbar" hidden="true" class="mdl-js-snackbar mdl-snackbar">
                <div class="mdl-snackbar__text"></div>
                <button class="mdl-snackbar__action" type="button"></button>
            </div>



        </div>

        <button class="btn btn-danger" onclick='$("#username-modal").modal()'>
            <!-- //<a href="#username-modal" >Username modal</a> -->
            Username modal
        </button>
        
        <button id="btn-group-chat-add" class="btn btn-default" onclick="$('#group-create-modal').modal()">Add group</button>
        
    </main>

    
    <!-- </div> -->

    <!-- Firebase App is always required and must be first -->
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-app.js"></script>

    <!-- Add additional services that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-functions.js"></script>

    <script src="https://www.gstatic.com/firebasejs/5.3.1/firebase.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyBouXHzUt7FxFNqa2o-9u7OvwuSMtw3FW0",
            authDomain: "kronoschat1.firebaseapp.com",
            databaseURL: "https://kronoschat1.firebaseio.com",
            projectId: "kronoschat1",
            storageBucket: "kronoschat1.appspot.com",
            messagingSenderId: "83380766475"
        };
        firebase.initializeApp(config);
    </script>
    <script src="scripts/main.js"></script>

    <div class="modal fade" id="username-modal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Pick a username</h3>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-sm-12">
                            <input type="textbox" class="form-control" id="username-input" />
                            <span class="text-danger" id="username-error" hidden="false"></span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" onclick="return saveUsername();" id="btn-username-save">Done</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="group-create-modal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Create a new group chat</h3>
                </div>
                <div class="modal-body">
                    <div class="card mb-2">
                        <div class="card-header">
                            <h3>Basic information</h3>
                            
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-12">
                                    <label for="group-name" class="control-label">Group name:</label>
                                    <input type="textbox" name="group-name" class="form-control" id="group-name" />
                                    <span class="text-danger" id="group-error" hidden="true"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card ">
                        <div class="card-header">
                            Members
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-12">
                                    <input type="textbox" class="form-control" id="group-member-input" list="group-user-search" placeholder="Search users..." />
                                    <datalist id="group-user-search"></datalist>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <ul class="list-group list-group-flush" id="ul-user-list">
                                        <!-- 
                                            <li class="list-group-item">
                                                <div class="row">
                                                    <div class="col-xs-2"><a href="#" class="mr-2" onclick="deleteFromCreateModalUserList('aaa')"><i class="fas fa-times"></i></a></i></div>
                                                    <div class="col-xs-10"><p class="pb-1">Lorem ipsum</p></div>
                                                </div>
                                            </li> -->
                            
                                    </ul>
                                    <input type="hidden" id="group-user-list" name="group-user-list" value="aaa|||aaa" />
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    
                </div>
                <div class="modal-footer">
                    <button id="group-save" class="btn btn-primary" onclick="createGroupChat()">Done</button>
                </div>
            </div>
        </div>>
            
        </div>
    </div>

</body>


</html>